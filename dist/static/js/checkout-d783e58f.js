import{g as k,G as x,d as E,H as B,m as C,E as T}from"./element-plus-d03682ba.js";import{u as V}from"./vue-router-cfababd1.js";import{u as N}from"./vuex-af3025ab.js";import{b as O,s as S}from"./order-b56e68b7.js";import{J as M,j as R,e as u,i as $,o as d,c as _,u as o,a as t,W as e,X as n,R as a,V as r}from"./@vue-7143f52f.js";import"./lodash-es-6689e95d.js";import"./@vueuse-71394f68.js";import"./@element-plus-b2faaa35.js";import"./@popperjs-c75af06c.js";import"./@ctrl-43a4208a.js";import"./dayjs-904a9561.js";import"./@kangc-6605a7f7.js";import"./vue-58b885c9.js";import"./async-validator-dee29e8b.js";import"./memoize-one-297ddbcb.js";import"./escape-html-1d60d822.js";import"./normalize-wheel-es-ed76fb12.js";import"./@floating-ui-b3b4f581.js";import"./index-f9d2d8f9.js";import"./axios-6667cfca.js";import"./form-data-d2a9677b.js";const j={class:"checkout-page"},D={key:0,class:"content"},F=t("h3",null,"收货人信息",-1),G={class:"receiver-info border"},H={"data-info":"name"},I={"data-info":"address"},J={"data-info":"phone"},L=t("h3",null,"确认商品信息",-1),W={class:"red"},X={class:"border right"},q={class:"red"},z={class:"border",style:{background:"#f7f7f7"}},A={style:{"text-align":"right"}},K=t("span",null,"应付款：",-1),P={class:"payment red"},Q={style:{"text-align":"right"}},U={style:{"text-align":"right"}},Y={key:1},kt=M({__name:"checkout",setup(Z){const h=V(),f=N(),c=R(()=>f.state.user),m=u(c.value.address),i=u();$(async()=>{i.value=await O(),console.log(i.value)});const g=async()=>{const p=await S();T.success(p.message),setTimeout(()=>h.push({name:"home"}),2e3)};return(p,tt)=>{const v=k,l=x,b=E,y=B,w=C;return d(),_("div",j,[o(i)?(d(),_("div",D,[t("div",null,[F,t("div",G,[t("span",H,e(o(c).name),1),t("span",I,e(o(m)),1),t("span",J,e(o(c).phone),1)])]),t("div",null,[L,n(y,{data:o(i).items},{default:a(()=>[n(l,{width:"80",align:"center"},{default:a(s=>[n(v,{src:s.row.book.cover,style:{width:"80px",height:"80px"},fit:"contain"},null,8,["src"])]),_:1}),n(l,{width:"480",label:"商品信息"},{default:a(s=>[n(b,null,{default:a(()=>[r(e(s.row.book.name),1)]),_:2},1024)]),_:1}),n(l,{width:"120",label:"单价（元）",align:"center"},{default:a(s=>[r(" ￥"+e(s.row.book.price.toFixed(2)),1)]),_:1}),n(l,{width:"120",label:"数量",align:"center"},{default:a(s=>[r(e(s.row.count),1)]),_:1}),n(l,{width:"120",label:"小计（元）",align:"center"},{default:a(s=>[t("span",W,e(s.row.price),1)]),_:1})]),_:1},8,["data"])]),t("div",X,[t("div",null,[t("div",null,[t("span",q,e(o(i).items.length),1),r(" 件商品，总商品金额：￥"+e(o(i).payment),1)])])]),t("div",z,[t("div",A,[K,t("span",P,"￥"+e(o(i).payment),1)]),t("div",Q,[t("span",null,"寄送至："+e(o(m)),1),t("span",null,"收件人："+e(o(c).name),1)])]),t("div",U,[n(w,{color:"#d00",style:{width:"80px"},onClick:g},{default:a(()=>[r("提交订单")]),_:1})])])):(d(),_("div",Y,"您没有未支付的订单！"))])}}});export{kt as default};
